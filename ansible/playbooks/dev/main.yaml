- name: Setup Docker Environment and Deploy Application
  hosts: all
  become: true

  tasks:
    - name: Setup Docker Environment
      block:
        - name: Install Docker (if not using role dependency)
          apt:
            name: docker.io
            state: present

        - name: Start Docker Service
          service:
            name: docker
            state: started
            enabled: yes
      tags: 
        - setup

  roles:
    - web_app
